# Puppet managed NXLog file. Do not modify manually.

define ROOT <%= @root %>

Moduledir <%= @module_dir %>
CacheDir <%= @cache_dir %>
Pidfile <%= @pid_file %>
SpoolDir <%= @spool_dir %>
LogFile <%= @log_file %>

<% @inputs.sort.each do |key, values | -%>
<Input <%= key %>>
    Module      <%= values["module"] %>
<% if values["file"] -%>
    File "<%= values["file"] %>"
<% end -%>
<% if (values["exec"] != nil) then -%>
<% values["exec"].each do |execs| %>
    Exec <%= execs -%>
<% end %>
<% end -%>
<% if values["query"] -%>
Query <%= values["query"] %>
<% end -%>
<% if values["savepos"] -%>
    SavePos <%= values["savepos"] %>
<% end -%>
</Input>
<% end -%>

<% unless @extensions.empty? -%>
<Extension <%= @extensions %>>
    Module xm_<%= @extensions %>
</Extension>
<% end -%>

<% @outputs.sort.each do |key, values| -%>
<Output <%= key %>>
    Module      <%= values["module"] %>
    Host        <%= values["host"] %>
    Port        <%= values["port"] %>
<% if values["outputtype"] -%>
    OutputType  <%= values["outputtype"] %>
<% end -%>
</Output>
<% end -%>

<% @routes.sort.each do |key, values| -%>
<Route <%= key %>>
    Path        <%= values["path"] %>
</Route>
<% end -%>
