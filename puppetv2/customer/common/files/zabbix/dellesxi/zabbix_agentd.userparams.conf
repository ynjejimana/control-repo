### VMWare WBEM Monitoring (HP BASE Hardware ESXi Hosts)
#UserParameter=WBEM[*],/etc/zabbix/zabbix_wbem_vmware.pl $1 $2 $3
#UserParameter=NumericSensor[*],egrep -i "SMX_NumericSensor_$2:" /tmp/vmware_$1.txt|sed 's/.*\t//'
#UserParameter=Temperature[*],egrep -i "Temperature_$2:" /tmp/vmware_$1.txt|sed 's/.*\t//'
#UserParameter=Power_Supply[*],egrep -i "Power_Supply_$2:" /tmp/vmware_$1.txt|sed 's/.*\t//'
#UserParameter=Fan[*],egrep -i "Fan_$2:" /tmp/vmware_$1.txt|sed 's/.*\t//'
#UserParameter=Proc[*],egrep -i "Proc_$2:" /tmp/vmware_$1.txt|sed 's/.*\t//'
#UserParameter=Array[*],egrep -i "Array_$2:" /tmp/vmware_$1.txt|sed 's/.*\t//'
#UserParameter=System_Memory[*],egrep -i "System_Memory:" /tmp/vmware_$1.txt|sed 's/.*\t//'
### End VMWare WBEM Monitoring

### VMWare WBEM Monitoring (DELL BASE Hardware ESXi Hosts)
UserParameter=WBEM[*],/etc/zabbix/zabbix_dell_wbem_vmware.pl $1 $2 $3
UserParameter=NumericSensor[*],egrep -i "System_Board_$2" /tmp/vmware_$1.txt|sed 's/.*\t//'
UserParameter=Temperature[*],egrep -i "System_Board_$2_Ambient_Temp" /tmp/vmware_$1.txt|sed 's/.*\t//'
UserParameter=Power_Supply[*],egrep -i "Power_Supply_$2:" /tmp/vmware_$1.txt|sed 's/.*\t//'|sed 's/\([^\,]*\).*/\1/'
UserParameter=Fan[*],egrep -i "System_Board_$2_fan" /tmp/vmware_$1.txt|sed 's/.*\t//'
UserParameter=Proc[*],egrep -i "CPU$2:" /tmp/vmware_$1.txt|sed 's/.*\t//'|sed 's/\([^\,]*\).*/\1/'
UserParameter=System_Memory[*],egrep -i "Memory:" /tmp/vmware_$1.txt|sed 's/.*\t//'|sed 's/\([^\,]*\).*/\1/'
UserParameter=Disk_Drive[*],egrep -i "Drive_$2:" /tmp/vmware_$1.txt|sed 's/.*\t//'|sed 's/\([^\,]*\).*/\1/'
### End VMWare WBEM Monitoring

### VMWare Perl API Monitoring
UserParameter=API[*],/etc/zabbix/zabbix_perl_api_vmware.pl $1 $2 $3
UserParameter=Volume.Capacity[*],egrep -i "Volume.Capacity_$2:" /tmp/vmware_api_$1.txt|sed 's/.*\t//'
UserParameter=Volume.Free[*],egrep -i "Volume.Free_$2:" /tmp/vmware_api_$1.txt|sed 's/.*\t//'
UserParameter=CpuTotal[*],egrep -i "CpuTotal:" /tmp/vmware_api_$1.txt|sed 's/.*\t//'
UserParameter=CpuUsed[*],egrep -i "CpuUsed:" /tmp/vmware_api_$1.txt|sed 's/.*\t//'
UserParameter=MemSize[*],egrep -i "MemSize:" /tmp/vmware_api_$1.txt|sed 's/.*\t//'
UserParameter=MemUsage[*],egrep -i "MemUsage:" /tmp/vmware_api_$1.txt|sed 's/.*\t//'
UserParameter=MaintenanceMode[*],egrep -i "MaintenanceMode:" /tmp/vmware_api_$1.txt|sed 's/.*\t//'
UserParameter=MEM[*],egrep -i "MEM_$2:" /tmp/vmware_api_$1.txt|sed 's/.*\t//'
UserParameter=Array_stat[*],egrep -i "Array_$2.$3:" /tmp/vmware_api_$1.txt|sed 's/.*\t//'
UserParameter=NET[*],egrep -i "vmnic$2.$3:" /tmp/vmware_api_$1.txt|sed 's/.*\t//'
UserParameter=Uptime[*],egrep -i "Uptime:" /tmp/vmware_api_$1.txt|sed 's/.*\t//'
### End VMWare Perl API Monitoring

### Xen Host Server monitoring 
UserParameter=xe.vmcountup,sudo /opt/xensource/bin/xe vm-list | grep running | wc -l
UserParameter=xe.vmcountdown,sudo /opt/xensource/bin/xe vm-list | grep halted | wc -l
UserParameter=xe.memory_total_kib,sudo /opt/xensource/bin/xe host-data-source-query data-source=memory_total_kib
UserParameter=xe.memory_free_kib,sudo /opt/xensource/bin/xe host-data-source-query data-source=memory_free_kib
UserParameter=xe.xapi_memory_usage_kib,sudo /opt/xensource/bin/xe host-data-source-query data-source=xapi_memory_usage_kib
UserParameter=xe.xapi_free_memory_kib,sudo /opt/xensource/bin/xe host-data-source-query data-source=xapi_free_memory_kib
UserParameter=xe.xapi_live_memory_kib,sudo /opt/xensource/bin/xe host-data-source-query data-source=xapi_live_memory_kib
UserParameter=xe.xapi_allocation_kib,sudo /opt/xensource/bin/xe host-data-source-query data-source=xapi_allocation_kib
UserParameter=xe.cpu3,sudo /opt/xensource/bin/xe host-data-source-query data-source=cpu3
UserParameter=xe.cpu2,sudo /opt/xensource/bin/xe host-data-source-query data-source=cpu2
UserParameter=xe.cpu1,sudo /opt/xensource/bin/xe host-data-source-query data-source=cpu1
UserParameter=xe.cpu0,sudo /opt/xensource/bin/xe host-data-source-query data-source=cpu0
UserParameter=xe.loadavg,sudo /opt/xensource/bin/xe host-data-source-query data-source=loadavg
UserParameter=xe.vmi[*],sudo /opt/xensource/bin/xe vm-data-source-query data-source=$1 vm=$2

UserParameter=xm.vmcountup,sudo /usr/sbin/xm list | wc -l
UserParameter=xm.memory_total_kib,sudo /usr/sbin/xm info | grep "total_memory" | perl -nle '/(\d+)\s*$/; print $1;'
UserParameter=xm.memory_free_kib,sudo /usr/sbin/xm info | grep "free_memory" | perl -nle '/(\d+)\s*$/; print $1;'
### End Xen Host Server monitoring

